---
layout: post_layout
title: shadowsocks配置文件
time: 2016年05月11日 星期三
location: 兰州
pulished: true
excerpt_separator: "##"
---
﻿#汇编语言学习总结
```
assum cs:codesg  ;伪指令 假设某一段寄存器和程序中的末一个用segment...end定义的段相关联

codesg segment  ;伪指令 段开始

    mov ax,0123H
    mov bx,0456H
    add ax,bx
    add ax,ax

    mov ax,4c00H  ;汇编指令 程序返回
    int 21H

codesg ends  ;伪指令 段结束

end ;伪指令 程序结束标记,通知编译器程序的入口在什么地方
```
**汇编指令**：有对应的机器码的指令，可以被编译为机器指令
**伪指令**：没有对应的机器指令，最终不被cpu所执行
汇编源程序中除了汇编指令伪指令还有**标号**比如*codesg*。一个标号指代了一个地址。比如*codesg*在`segment`的前面，作为一个段的名称，这个段的名称最终将被编译、连接程序处理为一个段的地址。
**程序返回**：将cpu的控制权交还给使它得以运行的程序

8086CPU有14个寄存器，所有的寄存器都是16位的，可以存放两个字节。
`AX`、`BX`、`CX`、`DX`称为**通用寄存器**常用来存放一般性数据
*（AX可分为AH和AL;BX可分为BH和...）*

CS、DS、SS、ES**段寄存器**
`CS`代码段寄存器
`DS`通常存放数据段地址
`SS`栈段地址

`IP`指令指针寄存器
`SP`栈顶偏移地址

* `CS和IP`设CS中的内容为M，IP中的内容为N，8086CPU将从内存Mx16+N单元读取一条指令并执行也可以这样表述：8086机种，任意时刻，CPU将从CS：IP指向的内容当作指令执行

* `DS和[address]`
```
 mov bx,1000H
 mov ds,bx
 mov al,[0]
```
上述三条指令将10000H(1000:0)中的数据读到al中
8086CPU不支持将数据直接送入段寄存器属于硬件设计问题

* `SS:SP`任意时刻，SS：SP指向栈顶元素



8086CPU给出物理地址的方法，用2个16位（4位16进制）地址合成的方法来形成一个20位（5位16进制）的物理地址。地址加法器采用**物理地址=段地址x16+偏移地址**的方法用段地址和偏移地址合成物理地址。例如访问123C8H的内存单元时12300（1230x16）+00C8
